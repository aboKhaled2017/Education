{"version":3,"file":"AjaxExte.js","sourceRoot":"","sources":["AjaxExte.ts"],"names":[],"mappings":";AAAA,CAAC,CAAC,eAAe,GAAG,UAAC,WAAyC;IAC1D,OAAO;QACH,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAK,MAAc,CAAC,eAAe,CAAC;YAChC,KAAK,GAAG,IAAM,MAAc,CAAC,eAAe,CAAS,CACjD,mBAAmB,CACtB,CAAC;;YACD,KAAK,GAAG,IAAK,MAAc,CAAC,gBAAgB,CAAC,EAAE,CAAC;QACrD,gBAAgB;QACf,KAAK,CAAC,MAAsB,CAAC,gBAAgB,CAC1C,UAAU,EACV,UAAU,EAAE;YACR,IAAI,EAAE,CAAC,gBAAgB,EAAE;gBACrB,IAAI,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;gBAClE,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACnC;QACL,CAAC,EACD,KAAK,CACR,CAAC;QACF,kBAAkB;QACjB,KAAqB,CAAC,gBAAgB,CACnC,UAAU,EACV,UAAU,EAAE;YACR,IAAI,EAAE,CAAC,gBAAgB,EAAE;gBACrB,IAAI,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;gBAClE,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,kBAAkB,CAAC,CAAC;aACnD;QACL,CAAC,EACD,KAAK,CACR,CAAC;QACF,OAAO,KAAK,CAAC;IACjB,CAAC,CAAC;AACN,CAAC,CAAC","sourcesContent":["$.AjaxXHRProgress = (OnUploading: (percentage: number) => void) => {\r\n    return () => {\r\n        var jqXHR = null;\r\n        if ((window as any)[\"ActiveXObject\"])\r\n            jqXHR = new ((window as any)[\"ActiveXObject\"] as any)(\r\n                \"Microsoft.XMLHTTP\"\r\n            );\r\n        else jqXHR = new (window as any)[\"XMLHttpRequest\"]();\r\n        //uploadProgress\r\n        (jqXHR.upload as HTMLElement).addEventListener(\r\n            \"progress\",\r\n            function (ev) {\r\n                if (ev.lengthComputable) {\r\n                    var percentageComplete = Math.round((ev.loaded * 100) / ev.total);\r\n                    OnUploading(percentageComplete);\r\n                }\r\n            },\r\n            false\r\n        );\r\n        //downloadProgress\r\n        (jqXHR as HTMLElement).addEventListener(\r\n            \"progress\",\r\n            function (ev) {\r\n                if (ev.lengthComputable) {\r\n                    var percentageComplete = Math.round((ev.loaded * 100) / ev.total);\r\n                    console.log(\"downloaded \" + percentageComplete);\r\n                }\r\n            },\r\n            false\r\n        );\r\n        return jqXHR;\r\n    };\r\n};\r\n"]}