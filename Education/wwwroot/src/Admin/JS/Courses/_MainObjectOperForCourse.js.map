{"version":3,"file":"_MainObjectOperForCourse.js","sourceRoot":"","sources":["_MainObjectOperForCourse.ts"],"names":[],"mappings":"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","sourcesContent":["import { CommonButtons } from \"../Shared/CommonUI\";\r\nimport { VideoTutorial, ICourse } from '../Shared/Interfaces'; \r\nimport { IBinding } from \"../Shared/Bindings\";\r\nexport class MainObjectOperForCourse {\r\n    public static courseId: string= $(\"#Id\").val() as string;\r\n    public static CourseDataController: IBinding<ICourse> = {} as IBinding<ICourse>;\r\n    public static LastUpoladedFile: File = {} as File;\r\n    private static VideoOperObject = {\r\n        default: \"قم بتحميل ملف الفديو\",\r\n        VideoTextTitle: \"قم بتحميل ملف الفديو\",\r\n        NotValideFile: \"هذا النوع من الملف غير صالح\"\r\n    }\r\n    public static OnVideoInputChange(e: Event) {\r\n        let videoFile = ((<HTMLInputElement>e.target).files as FileList)[0];\r\n        if (videoFile) this.LastUpoladedFile = videoFile;\r\n        else videoFile = this.LastUpoladedFile;\r\n        if (!videoFile) {\r\n            (this.CourseDataController.Model as any)['VideoTextTitle'] = this.VideoOperObject.default;\r\n            return;\r\n        }\r\n        if (videoFile.type.indexOf(\"video\") == -1) {\r\n            (this.CourseDataController.Model as any)['VideoTextTitle'] = this.VideoOperObject.NotValideFile;\r\n            $.notify(\r\n                {\r\n                    message: \"هذة النوعية من الفديوهات غير مدعومة\",\r\n                    target: \"#AddVideoForm\"\r\n                },\r\n                { z_index: 999999999999999 }\r\n            );\r\n            return;\r\n        }\r\n        (this.CourseDataController.Model as any)['VideoTextTitle'] = `تم اختيار ملف: ${videoFile.name}`;\r\n    };\r\n    public static OnTableLoaded: Promise<DataTables.DataTable>={ } as Promise<DataTables.DataTable>;\r\n    public static TableOfVideos: DataTables.DataTable = {} as DataTables.DataTable;\r\n    public static ImgBackOfCourse: JQuery = $(\"#courseImgBack\");\r\n    public static VideosTutorialsTable: JQuery = $('#VideosTable');\r\n    private static RenderVideoForColumn: DataTables.FunctionColumnRender = function (value: any, type: any, record: VideoTutorial, colDom) {\r\n        let VideoDiv = $(`<video-js id=\"video_${record.number}\" controls preload=\"auto\">\r\n                            <source src=\"${record.url}\">\r\n                          </video-js>`).css('margin', 'auto');\r\n        return VideoDiv.get(0).outerHTML;\r\n    };\r\n    private static _tableColumns: DataTables.ColumnSettings[] = [];\r\n    public static Tablecolumns() {\r\n        if (this._tableColumns.length) return this._tableColumns;\r\n        this._tableColumns = [\r\n            { data: \"id\", visible: false, orderable: false },\r\n            { data: \"number\", width: '50', className: 'text-center' },\r\n            { data: \"title\", className: 'text-center' },\r\n            {\r\n                data: \"url\", width: '250px',\r\n                render: this.RenderVideoForColumn,\r\n                orderable: false,\r\n                searchable: false,\r\n            },\r\n            {\r\n                orderable: false,\r\n                className: 'text-center',\r\n                render: function (value, type, record: VideoTutorial, colDom) {\r\n                    var Details = $(`<div class=\"Details\">\r\n                                        <div class=\"badge\">مدة الفديو ${record.duration.toHourFormat()}</div>\r\n                                        <div class=\"badge\">اخر تعديل ${new Date(record.date).toLocaleDateString()}</div>\r\n                                        <div class=\"DescriptionTd\">${record.description}</div>\r\n                                      </div>`)\r\n                    return Details.get(0).outerHTML;\r\n                }\r\n            },\r\n            {\r\n                orderable: false,\r\n                searchable: false,\r\n                width: \"fit-content\",\r\n                className: 'text-center',\r\n                render: function (value, type, record: VideoTutorial, colDom) {\r\n                    var controls = $('<div class=\"controls\"></div>')\r\n                    controls.append(CommonButtons.DeleteBtn());\r\n                    controls.append(CommonButtons.EditBtn());\r\n                    return controls.get(0).outerHTML;\r\n                }\r\n            }\r\n        ] as DataTables.ColumnSettings[];\r\n        return this._tableColumns;\r\n};\r\n}"]}