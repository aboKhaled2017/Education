{"version":3,"file":"Account.js","sourceRoot":"","sources":["Account.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"../../../global/declaration.d.ts\"/>\r\nimport '../../../global/setting';\r\nimport '../../../global/helperDome';\r\nimport '../../Assests/BootstrapComponents/bootstrapNotify';\r\nimport { Routes } from '../../../global/Routes';\r\nimport { messages } from '../../../global/messages';\r\nconst changeNameOperation = {\r\n    UpdateNameForm: $('#UpdateNameForm'),\r\n    get NameSubmitBtn() {\r\n        return this.UpdateNameForm.find('#NameSubmitBtn');\r\n    },\r\n    get NameInput() {\r\n        return this.UpdateNameForm.find('#Name');\r\n    },\r\n    HandleOnNameUpdate() {\r\n        this.UpdateNameForm.submit(e => {\r\n            e.preventDefault();\r\n            let SubmitBtn = this.NameSubmitBtn;\r\n            let Name = (this.NameInput.val() as string).trim();;\r\n            if (this.NameInput.valid()) {\r\n                $.ajax({\r\n                    url: Routes.makeUrlQuery(Routes.UpdateAccountName, { prop: \"Name\", val: Name }),\r\n                    method: 'PUT',\r\n                    beforeSend() {\r\n                        SubmitBtn.pendingState(true, \"fa-send\");\r\n                    }\r\n                })\r\n                    .always(() => {\r\n                        SubmitBtn.pendingState(false);\r\n                    })\r\n                    .done(data => {\r\n                        $.notify({\r\n                            message: \"تم تغيير الاسم بنجاح\"\r\n                        }, {\r\n                                type: 'success',\r\n                                timer: 4000\r\n                            });\r\n                    })\r\n            }\r\n        });\r\n    },\r\n}\r\nconst changeAccountOperation = {\r\n    UpdateAccountForm: $('#UpdateAccountForm'),\r\n    get AccountSubmitBtn() {\r\n        return this.UpdateAccountForm.find('#accountSaveBtn');\r\n    },\r\n    get userNameInput() {\r\n        return this.UpdateAccountForm.find('#UserName');\r\n    },\r\n    get passwordInput() {\r\n        return this.UpdateAccountForm.find('#password');\r\n    },\r\n    confiremMessage: messages.changeAccountAlertion,\r\n    submitForm(UserName: string, Password: string, SubmitBtn: JQuery) {\r\n        $.ajax({\r\n            url: Routes.UpdateAccount,\r\n            method: 'POST',\r\n            data: JSON.stringify({ UserName: UserName, Password: Password }),\r\n            beforeSend() {\r\n                SubmitBtn.pendingState(true, \"fa-send\");\r\n            }\r\n        })\r\n            .always(() => {\r\n                SubmitBtn.pendingState(false);\r\n            })\r\n            .done(data => {\r\n                $.notify({\r\n                    message: messages.redirectNotifing,\r\n                }, {\r\n                        onClose() {\r\n                            location.href = Routes.adminArea;\r\n                        }\r\n                    },\r\n                )\r\n            })\r\n    },\r\n    HandleOnAccountUpadate() {\r\n        this.passwordInput.addPasswordShow();\r\n        this.UpdateAccountForm.submit(e => {\r\n            e.preventDefault();\r\n            let SubmitBtn = this.AccountSubmitBtn;\r\n            if (this.userNameInput.valid() && this.passwordInput.valid()) {\r\n                let UserName = (this.userNameInput.val() as string).trim();\r\n                let Password = (this.passwordInput.val() as string).trim();\r\n\r\n                $.confirmNotify(this.confiremMessage, (isConfirmed) => {\r\n                    if (isConfirmed) this.submitForm(UserName, Password, SubmitBtn);\r\n                });\r\n\r\n            }\r\n        });\r\n    },\r\n}\r\nchangeNameOperation.HandleOnNameUpdate();\r\nchangeAccountOperation.HandleOnAccountUpadate();\r\n"]}